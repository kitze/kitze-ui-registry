{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "simple-dialog",
  "type": "registry:component",
  "title": "Simple Dialog",
  "description": "A simple dialog component using Radix UI.",
  "registryDependencies": [
    "dialog",
    "https://ui.kitze.io/r/bottom-drawer.json",
    "https://ui.kitze.io/r/custom-button.json"
  ],
  "dependencies": [
    "next",
    "react",
    "react-dom",
    "tailwindcss",
    "clsx",
    "tailwind-merge",
    "@radix-ui/react-dialog"
  ],
  "files": [
    {
      "path": "registry/new-york/simple-dialog/SimpleDialog.tsx",
      "type": "registry:component",
      "content": "import React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  Dialog,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n} from \"@/components/ui/dialog\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { useControlledOpen } from \"@/registry/hooks/useControlledOpen\";\nimport { useKitzeUI } from \"@/registry/new-york/kitze-ui-context/KitzeUIContext\";\nimport { BottomDrawer } from \"@/registry/new-york/bottom-drawer/BottomDrawer\";\nimport { CustomButton } from \"@/registry/new-york/custom-button/CustomButton\";\nimport { XIcon } from \"lucide-react\";\n\nexport type DialogMobileViewType = \"keep\" | \"bottom-drawer\";\n\nexport type DialogSize =\n  | \"sm\"\n  | \"md\"\n  | \"lg\"\n  | \"xl\"\n  | \"2xl\"\n  | \"3xl\"\n  | \"4xl\"\n  | \"5xl\"\n  | \"full\";\n\nexport type DialogClassNames = {\n  root?: string;\n  content?: string;\n  header?: string;\n  title?: string;\n  body?: string;\n  footer?: string;\n  submitButton?: string;\n  cancelButton?: string;\n  drawerRoot?: string;\n  drawerContent?: string;\n  drawerHeader?: string;\n  drawerFooter?: string;\n};\n\nexport interface SimpleDialogProps {\n  trigger?: React.ReactNode;\n  title?: string;\n  children: React.ReactNode;\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  size?: DialogSize;\n  classNames?: DialogClassNames;\n  mobileView?: DialogMobileViewType;\n  drawerTitle?: string;\n  showCancel?: boolean;\n  showCloseButton?: boolean;\n  onCancel?: () => void;\n  onSubmit?: () => void;\n  submitText?: string;\n  cancelText?: string;\n}\n\nconst sizeToMaxWidth: Record<DialogSize, string> = {\n  sm: \"sm:max-w-[425px]\",\n  md: \"sm:max-w-[550px]\",\n  lg: \"sm:max-w-[680px]\",\n  xl: \"sm:max-w-[800px]\",\n  \"2xl\": \"sm:max-w-[1024px]\",\n  \"3xl\": \"sm:max-w-[1280px]\",\n  \"4xl\": \"sm:max-w-[1536px]\",\n  \"5xl\": \"sm:max-w-[1920px]\",\n  full: \"sm:max-w-[100vw]\",\n};\n\n// Custom DialogContent that supports showCloseButton prop\nconst CustomDialogContent = ({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean;\n}) => {\n  return (\n    <DialogPortal>\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogClose className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogClose>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  );\n};\n\nexport const SimpleDialog = ({\n  trigger = \"Open\",\n  title,\n  children,\n  open,\n  onOpenChange,\n  size = \"sm\",\n  classNames = {},\n  mobileView = \"keep\",\n  drawerTitle,\n  showCancel = true,\n  showCloseButton = true,\n  onCancel,\n  onSubmit,\n  submitText = \"Submit\",\n  cancelText = \"Cancel\",\n}: SimpleDialogProps) => {\n  const { isMobile } = useKitzeUI();\n  const { isOpen, setIsOpen, close } = useControlledOpen({\n    open,\n    onOpenChange,\n  });\n\n  const handleCancel = () => {\n    close();\n    if (onCancel) onCancel();\n  };\n\n  const handleSubmit = () => {\n    if (onSubmit) onSubmit();\n    close();\n  };\n\n  const footerContent = (onSubmit || showCancel) && (\n    <div className={cn(\"flex justify-end gap-2 pt-4\", classNames.footer)}>\n      {showCancel && (\n        <CustomButton\n          variant=\"outline\"\n          onClick={handleCancel}\n          className={classNames.cancelButton}\n        >\n          {cancelText}\n        </CustomButton>\n      )}\n      {onSubmit && (\n        <CustomButton\n          onClick={handleSubmit}\n          className={classNames.submitButton}\n        >\n          {submitText}\n        </CustomButton>\n      )}\n    </div>\n  );\n\n  if (isMobile && mobileView === \"bottom-drawer\") {\n    return (\n      <BottomDrawer\n        open={isOpen}\n        onOpenChange={setIsOpen}\n        trigger={trigger}\n        title={drawerTitle || title}\n        classNames={{\n          content: classNames.drawerContent,\n          headerWrapper: classNames.drawerHeader,\n        }}\n      >\n        <div className={classNames.body}>{children}</div>\n        {footerContent && (\n          <div\n            className={cn(classNames.drawerFooter, \"px-6 pt-4 pb-6 md:pb-2\")}\n          >\n            {footerContent}\n          </div>\n        )}\n      </BottomDrawer>\n    );\n  }\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\n      {trigger && open === undefined && (\n        <DialogTrigger asChild>\n          {typeof trigger === \"string\" ? (\n            <CustomButton>{trigger}</CustomButton>\n          ) : (\n            trigger\n          )}\n        </DialogTrigger>\n      )}\n      <CustomDialogContent\n        className={cn(\n          sizeToMaxWidth[size],\n          classNames.root,\n          classNames.content\n        )}\n        showCloseButton={showCloseButton}\n      >\n        {title && (\n          <DialogHeader className={classNames.header}>\n            <DialogTitle className={classNames.title}>{title}</DialogTitle>\n          </DialogHeader>\n        )}\n        <div className={cn(\"py-4\", classNames.body)}>{children}</div>\n        {footerContent && (\n          <DialogFooter className={classNames.footer}>\n            {showCancel && (\n              <CustomButton\n                variant=\"outline\"\n                onClick={handleCancel}\n                className={classNames.cancelButton}\n              >\n                {cancelText}\n              </CustomButton>\n            )}\n            {onSubmit && (\n              <CustomButton\n                onClick={handleSubmit}\n                className={classNames.submitButton}\n              >\n                {submitText}\n              </CustomButton>\n            )}\n          </DialogFooter>\n        )}\n      </CustomDialogContent>\n    </Dialog>\n  );\n};\n",
      "target": "components/SimpleDialog.tsx"
    },
    {
      "path": "registry/hooks/useControlledOpen.ts",
      "type": "registry:hook",
      "content": "import { useState, useEffect } from \"react\";\n\ninterface UseControlledOpenProps {\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n}\n\ninterface UseControlledOpenResult {\n  isOpen: boolean;\n  setIsOpen: (open: boolean) => void;\n  close: () => void;\n}\n\nexport const useControlledOpen = ({\n  open,\n  onOpenChange,\n}: UseControlledOpenProps): UseControlledOpenResult => {\n  const [internalOpen, setInternalOpen] = useState(false);\n\n  // Determine if the component is controlled or uncontrolled\n  const isControlled = open !== undefined;\n  const isOpen = isControlled ? open : internalOpen;\n\n  const setIsOpen = (newOpen: boolean) => {\n    if (!isControlled) {\n      setInternalOpen(newOpen);\n    }\n    if (onOpenChange) {\n      onOpenChange(newOpen);\n    }\n  };\n\n  const close = () => setIsOpen(false);\n\n  // Sync internal state with controlled prop\n  useEffect(() => {\n    if (isControlled) {\n      setInternalOpen(open);\n    }\n  }, [isControlled, open]);\n\n  return { isOpen, setIsOpen, close };\n};\n",
      "target": "hooks/useControlledOpen.ts"
    }
  ]
}